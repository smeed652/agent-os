# Validate Code Quality Command

Command to validate code quality including file size, complexity, and best practices adherence.

## Usage
```bash
@validate-code-quality [file-or-directory-path]
```

## What It Validates

### File Size Standards
- **Code files (.ts, .tsx, .js, .jsx, .rb, .py)**: Under 300 lines
- **Test files (.test.*, .spec.*)**: Under 500 lines  
- **Documentation files (.md, .txt)**: No strict limit
- **Config files (.json, .yaml, .config.*)**: Under 200 lines

### Code Quality Checks
- **Function Complexity**: Cyclomatic complexity ≤ 10
- **Code Duplication**: Detects repeated code blocks
- **Error Handling**: Validates try-catch usage for async operations
- **Naming Conventions**: Checks for descriptive variable/function names
- **Comment Quality**: Analyzes comment meaningfulness and coverage

### TypeScript Specific
- **Type Safety**: Detects usage of 'any' type
- **Return Types**: Validates explicit return type annotations
- **TypeScript Compliance**: General TypeScript best practices

## Intelligent Exception Handling

The validator automatically detects and allows exceptions for:
- **Generated files** (contains "Generated by" comments)
- **Test files** (automatically detected by naming patterns)
- **Complex algorithms** with comprehensive documentation (>30% comments)
- **Configuration files** with extensive comments (>25% comments)

## Output Levels

### ✅ PASS
File meets all quality standards

### ⚠️ WARNING  
File has issues but may have valid exceptions or minor problems

### ❌ FAIL
File has serious quality issues requiring attention

## Examples

```bash
# Validate single file
@validate-code-quality src/components/UserProfile.tsx

# Validate entire directory
@validate-code-quality src/

# Validate current directory
@validate-code-quality
```

## Integration

This validator is automatically run during:
- **Spec Implementation** (`@implement-spec.md`)
- **Code Refactoring** phases
- **Pre-commit** hooks (when configured)

## Recommendations

The validator provides specific, actionable recommendations for each issue:
- File size: "Refactor into smaller, focused modules"
- Complexity: "Break down complex functions into smaller functions"
- Duplication: "Extract common code into reusable functions"
- Error handling: "Add proper try-catch blocks for external operations"
- Naming: "Use descriptive, consistent naming following project conventions"

## Configuration

File size limits and validation rules are defined in:
- `rules/file-organization.mdc`
- `rules/typescript-standards.mdc`
- `standards/best-practices.md`
